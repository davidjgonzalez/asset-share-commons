	
<!--/*
  ~ Asset Share Commons
  ~
  ~ Copyright [2017]  Adobe
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
 */-->

<sly data-sly-use.predicate="com.adobe.aem.commons.assetshare.components.predicates.BrowsePath"
	 data-sly-use.placeholderTemplate="core/wcm/components/commons/v1/templates.html"
	 data-sly-test.ready="${predicate.ready}">

	<div class="cmp-search-browse-path"
		 data-asset-share-id="${predicate.id}__fields"
		 data-asset-share-update-method="replace">

		<span class="cmp-search-browse-path__label"
			  data-sly-test.title="${properties['jcr:title']}">${title}</span>

		<!--/* Root only */-->
		<ul class="cmp-search-browse-path__list"
			data-sly-test="${predicate.folders.size == 0 && predicate.multipleRoots}">

			<li class="cmp-search-browse-path__item cmp-search-browse-path__item--active">
				${properties['rootFolderLabel']}
			</li>
		</ul>

		<!--/* Breadcrumb of folder paths */-->
		<ul class="cmp-search-browse-path__list"
			data-sly-test="${predicate.folders.size > 0}"
			data-sly-list.folder="${predicate.folders}">

			<li class="cmp-search-browse-path__item cmp-search-browse-path__item--root"
				data-sly-test="${predicate.multipleRoots && folderList.first}">
				<a href="/"
				   class="cmp-search-browse-path__item-link"
				   data-asset-share-search-on="click"
				   data-asset-share-form-name="path"
				   data-asset-share-form-value="/">${properties['rootFolderLabel']}</a>
			</li>

			<li class="cmp-search-browse-path__item"
				data-sly-test="${!folderList.last}">
				<a href="${folder.path}"
				   class="cmp-search-browse-path__item-link"
					data-asset-share-search-on="click"
					data-asset-share-form-name="path"
					data-asset-share-form-value="${folder.path}">${folder.title}</a>
			</li>

			<li class="cmp-search-browse-path__item cmp-search-browse-path__item--active"
				data-sly-test="${folderList.last}">
				${folder.title}
			</li>
		</ul>

	</div>
</sly>
<sly data-sly-call="${placeholderTemplate.placeholder @ isEmpty=!ready}"></sly>
