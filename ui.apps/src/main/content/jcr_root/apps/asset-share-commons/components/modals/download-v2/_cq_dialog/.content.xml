<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Asset Share Commons
  ~
  ~ Copyright (C) 2019 Adobe
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~       http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  ~
  -->

<jcr:root xmlns:sling="http://sling.apache.org/jcr/sling/1.0" xmlns:granite="http://www.adobe.com/jcr/granite/1.0"
          xmlns:jcr="http://www.jcp.org/jcr/1.0"
          xmlns:nt="http://www.jcp.org/jcr/nt/1.0"
          jcr:primaryType="nt:unstructured"
          jcr:title="Download Modal"
          sling:resourceType="cq/gui/components/authoring/dialog">
    <content
            jcr:primaryType="nt:unstructured"
            sling:resourceType="granite/ui/components/coral/foundation/container">
        <items jcr:primaryType="nt:unstructured">
            <tabs
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="granite/ui/components/coral/foundation/tabs"
                    maxmized="{Boolean}true">
                <items jcr:primaryType="nt:unstructured">
                    <tab-1
                            jcr:primaryType="nt:unstructured"
                            jcr:title="Labels"
                            sling:resourceType="granite/ui/components/coral/foundation/fixedcolumns"
                            margin="{Boolean}true">
                        <items jcr:primaryType="nt:unstructured">
                            <column
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="granite/ui/components/coral/foundation/container">
                                <items jcr:primaryType="nt:unstructured">
                                    <modal-title
                                            jcr:primaryType="nt:unstructured"
                                            sling:resourceType="granite/ui/components/coral/foundation/form/textfield"
                                            emptyText="Download"
                                            fieldLabel="Modal Title"
                                            name="./modalTitle"
                                            required="{Boolean}true"/>
                                    <asset-list-title
                                            jcr:primaryType="nt:unstructured"
                                            sling:resourceType="granite/ui/components/coral/foundation/form/textfield"
                                            emptyText="Assets"
                                            fieldLabel="Asset List Title"
                                            name="./assetListTitle"
                                            required="{Boolean}true"/>
                                    <download-options-title
                                            jcr:primaryType="nt:unstructured"
                                            sling:resourceType="granite/ui/components/coral/foundation/form/textfield"
                                            emptyText="Download options"
                                            fieldLabel="Download Form Title"
                                            name="./downloadOptionsTitle"
                                            required="{Boolean}true"/>
                                    <cancel-button
                                            jcr:primaryType="nt:unstructured"
                                            sling:resourceType="granite/ui/components/coral/foundation/form/textfield"
                                            emptyText="Cancel"
                                            fieldLabel="Cancel Button Label"
                                            name="./cancelButton"
                                            required="{Boolean}true"/>
                                    <download-button
                                            jcr:primaryType="nt:unstructured"
                                            sling:resourceType="granite/ui/components/coral/foundation/form/textfield"
                                            emptyText="Download"
                                            fieldLabel="Download Button Label"
                                            name="./downloadButton"
                                            required="{Boolean}true"/>
                                </items>
                            </column>
                        </items>
                    </tab-1>
                    <tab-2
                            jcr:primaryType="nt:unstructured"
                            jcr:title="Download Options"
                            sling:resourceType="granite/ui/components/coral/foundation/fixedcolumns"
                            margin="{Boolean}true">
                        <items jcr:primaryType="nt:unstructured">
                            <column
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="granite/ui/components/coral/foundation/container">
                                <items jcr:primaryType="nt:unstructured">

                                    <allowed-renditions
                                            jcr:primaryType="nt:unstructured"
                                            sling:resourceType="granite/ui/components/coral/foundation/form/multifield"
                                            composite="{Boolean}true"
                                            fieldLabel="Allowed Renditions"
                                            fieldDescription="Allowed renditions to include in the download."
                                            renderReadOnly="{Boolean}true">

                                        <field
                                                granite:class="cmp-options--editor-item-multifield-composite-item coral-Well"
                                                jcr:primaryType="nt:unstructured"
                                                sling:resourceType="granite/ui/components/coral/foundation/container"
                                                name="./items">
                                            <items jcr:primaryType="nt:unstructured">
                                                <option
                                                        granite:class="cmp-options--editor-item-multifield-composite-item-container"
                                                        jcr:primaryType="nt:unstructured"
                                                        sling:resourceType="granite/ui/components/coral/foundation/container">
                                                    <items jcr:primaryType="nt:unstructured">
                                                        <text
                                                                jcr:primaryType="nt:unstructured"
                                                                sling:resourceType="granite/ui/components/coral/foundation/form/textfield"
                                                                fieldLabel="Rendition Label"
                                                                required="{Boolean} true"
                                                                name="./text"/>
                                                        <value
                                                                jcr:primaryType="nt:unstructured"
                                                                sling:resourceType="granite/ui/components/coral/foundation/form/select"
                                                                fieldDescription="Select a rendition to allow."
                                                                fieldLabel="Rendition Name"
                                                                allowedAssetRenditionTypes="[]"
                                                                name="./value">
                                                            <datasource
                                                                    jcr:primaryType="nt:unstructured"
                                                                    sling:resourceType="asset-share-commons/data-sources/asset-renditions"/>
                                                        </value>
                                                    </items>
                                                </option>
                                            </items>
                                        </field>
                                    </allowed-renditions>

                                    <zip-file-name
                                            jcr:primaryType="nt:unstructured"
                                            sling:resourceType="granite/ui/components/coral/foundation/form/textfield"
                                            emptyText="Assets"
                                            fieldDescription="The name of the file that a user will download."
                                            fieldLabel="ZIP File Name"
                                            name="./zipFileName"
                                            required="{Boolean}true"/>
                                    <max-content-size-message
                                            jcr:primaryType="nt:unstructured"
                                            sling:resourceType="granite/ui/components/coral/foundation/form/textfield"
                                            emptyText="Maximum content size of download exceeded:"
                                            fieldDescription="Message displayed if the potential size of assets exceeds the max content size limit set by AEM's AssetDownloadServlet."
                                            fieldLabel="Max Content Size Message"
                                            name="./maxContentSizeMessage"/>
                                </items>
                            </column>
                        </items>
                    </tab-2>
                </items>
            </tabs>
        </items>
    </content>
</jcr:root>
